{
    "name": "OSPREY",
    "schema-version": "0.5",
    "tool-version": "1.1-5",
    "author": "Georg Oeltzschner, Helge J. ZÃ¶llner, Richard A. E. Edden, Erik G. Lee",
    "url": "https://github.com/schorschinho/osprey",
    "command-line": "osprey [SubjectDirectory] [OutputDirectoryName] participant [JSONSettings] [ParticipantLabel] [SessionLabel] [CabinetOutput]/precomputed",
    "description": "Osprey is an all-in-one software suite for state-of-the art processing and quantitative analysis of in-vivo magnetic resonance spectroscopy (MRS) data.",
    "inputs": [
      {
            "description": "The study-wide BIDS directory. In CBRAIN this is also referred to (and used) as the subject directory since a new BIDS dir will be made for the selected subject prior to processing.",
            "id": "SubjectDirectory",
            "name": "Subject Directory",
            "optional": false,
            "type": "File",
            "value-key": "[SubjectDirectory]"
      },
      {
          "description": "The name of the output directory to store outcomes of preprocessing and reports",
          "id": "OutputDirectoryName",
          "name": "Output Directory",
          "optional": false,
          "type": "String",
          "value-key": "[OutputDirectoryName]"
      },
      {
          "description": "The json file with settings to configure processing",
          "id": "JSONSettings",
          "name": "JSON Settings",
          "optional": false,
          "type": "File",
          "value-key": "[JSONSettings]"
      },
      {
          "command-line-flag": "--participant-label",
          "description": "Space delimited list of subjects to be processed (with or without sub- prefix)",
          "id": "ParticipantLabel",
          "name": "Participant Label",
          "optional": true,
          "type": "String",
          "value-key": "[ParticipantLabel]"
      },
      {
          "command-line-flag": "--session-id",
          "description": "select a specific session to be processed (with or without ses- prefix)",
          "id": "SessionLabel",
          "name": "Session Label",
          "optional": true,
          "type": "String",
          "value-key": "[SessionLabel]"
      },
      {
          "command-line-flag": "--segmentation-dir",
          "description": "CABINET segmentation output for the subject being processed. The pipeline will look for CabinetOutput/precomputed/sub*/ses*/anat/*_space-orig_desc-aseg_dseg.nii.gz)",
          "id": "CabinetOutput",
          "name": "CABINET Output",
          "optional": true,
          "type": "File",
          "value-key": "[CabinetOutput]"
      }
  ],
    "output-files" : [{
        "id" : "OutputDirectory",
        "name" : "Output Directory",
        "description": "The output directory to store outcomes of preprocessing and reports",
        "path-template" : "[OutputDirectory]",
        "optional" : false
    }],
    "suggested-resources": {
        "cpu-cores":1,
        "ram": 6,
        "walltime-estimate": 35000
    },
    "tags": {
        "application-type": [
            "bids"
        ],
        "domain": [
            "neuroinformatics",
            "mrs",
            "spectroscopy"
        ]
    },
    "container-image": {
        "type": "singularity",
        "index": "docker://",
        "image": "dcanumn/osprey:1.1-2"
    },
    "custom": {
        "cbrain:readonly-input-files": true,
        "cbrain:author": "Erik Lee <leex6144@umn.edu>",
        "cbrain:integrator_modules": {
            "BoutiquesFileTypeVerifier": {
                "SubjectDirectory": [ "BidsSubject" ]
            },
            "BoutiquesFileNameMatcher": {
                "SubjectDirectory": "^sub-[a-zA-Z0-9_]+$"
            },
            "BoutiquesOutputFileTypeSetter": {
                "OutputDirectory": "OSPREYOutput"
            },
            "BoutiquesBidsSingleSubjectMaker": "SubjectDirectory"
        }
    }
}
